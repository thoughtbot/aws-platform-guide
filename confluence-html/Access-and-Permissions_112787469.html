<!DOCTYPE html>
<html>
    <head>
        <title>AWS Platform Guide : Access and Permissions</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">AWS Platform Guide</a></span>
                            </li>
                                                    <li>
                                <span><a href="AWS-Platform-Guide-Home_13697366.html">AWS Platform Guide Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Landing-Zone_124977153.html">Landing Zone</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            AWS Platform Guide : Access and Permissions
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Joe Ferris</span> on Mar 22, 2023
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p>The platform relies on <a class="external-link" href="https://docs.aws.amazon.com/singlesignon/latest/userguide/what-is.html" rel="nofollow">AWS IAM Identity Center</a> for managing user permissions to resources within AWS accounts. Users access AWS accounts by using single sign on through the AWS portal for your organization.</p><p>To provide users with AWS permissions:</p><ul><li><p>As part of deploying the platform, <a href="Configure-Single-Sign-On_86933512.html" data-linked-resource-id="86933512" data-linked-resource-version="6" data-linked-resource-type="page">single sign on should be configured</a> for your user directory.</p></li><li><p>Create a group in your user directory, such as a Google group or an ActiveDirectory security group.</p></li><li><p>Create <a class="external-link" href="https://docs.aws.amazon.com/singlesignon/latest/userguide/permissionsetsconcept.html" rel="nofollow">permission sets</a> in the Identity account to describe what users should be able to do in an account.</p></li><li><p>Assign permissions sets to your group for accounts that group should be able to access.</p></li></ul><p>Once these steps are complete, users can use single sign on to access your landing zone and sign into individual AWS accounts using the permission sets assigned to them.</p><h2 id="AccessandPermissions-AccessingAWS">Accessing AWS</h2><p>Your organization will have a landing zone URL configured in IAM Identity Center, such as <a class="external-link" href="https://example.awsapps.com/start/." rel="nofollow">https://example.awsapps.com/start/.</a></p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/112787469/112918555.png" data-image-src="attachments/112787469/112918555.png" data-height="1266" data-width="1245" data-unresolved-comment-count="0" data-linked-resource-id="112918555" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="aws-portal.png" data-base-url="https://thoughtbot.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="112787469" data-linked-resource-container-version="1" data-media-id="12e2c586-07f3-4f6d-883f-718021fdfbb2" data-media-type="file"></span><h2 id="AccessandPermissions-ManagingGroups">Managing Groups</h2><p>You can synchronize groups in IAM identity center with your user directory, such as Google or ActiveDirectory. Add users to groups based on which permissions they should have in AWS.</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/112787469/112295974.png" data-image-src="attachments/112787469/112295974.png" data-height="373" data-width="1045" data-unresolved-comment-count="0" data-linked-resource-id="112295974" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="aws-google-groups.png" data-base-url="https://thoughtbot.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="112787469" data-linked-resource-container-version="1" data-media-id="7255895f-3476-42e1-a9cf-19e44bf8c38d" data-media-type="file"></span><h2 id="AccessandPermissions-ManagingPermissionsForGroups">Managing Permissions For Groups</h2><p>We recommend that you manage your permission sets and group assignments using Terraform. You can use the <a class="external-link" href="http://github.com/thoughtbot/terraform-aws-iam-permission-sets" rel="nofollow">terraform-aws-iam-permission-sets Terraform module</a> to provision and assign permission sets in the Identity account.</p><p>Create a new module in the infrastructure repository called <code>permissions</code>:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">module &quot;permission_sets&quot; {
  source = &quot;github.com/thoughtbot/terraform-aws-iam-permission-sets?ref=v0.2.0&quot;

  # Define your permission sets. You can attach AWS managed policies or create a
  # custom, inline policy.
  permission_sets = [
    {
      name        = &quot;DeveloperAccess&quot;
      description = &quot;Read and write access to non-administrative resources&quot;

      managed_policies = [
        &quot;arn:aws:iam::aws:policy/PowerUserAccess&quot;,
      ]
    },
    {
      name             = &quot;InfrastructureAdmin&quot;
      description      = &quot;Full administrative access for Terraform&quot;
      session_duration = &quot;PT1H&quot;

      managed_policies = [
        &quot;arn:aws:iam::aws:policy/AdministratorAccess&quot;,
      ]
    },
    {
      name        = &quot;ReadOnlyAccess&quot;
      description = &quot;Read access to all resources&quot;

      managed_policies = [
        &quot;arn:aws:iam::aws:policy/job-function/ViewOnlyAccess&quot;,
      ]
    },
    {
      name             = &quot;SecretsAccess&quot;
      description      = &quot;Ability to read and write application secrets&quot;
      session_duration = &quot;PT1H&quot;

      managed_policies = [
        &quot;arn:aws:iam::aws:policy/SecretsManagerReadWrite&quot;,
      ]
    }
  ]

  # For each group, assign permission sets to accounts that group should access.
  group_assignments = {
    aws-admins = {
      Backup     = [&quot;InfrastructureAdmin&quot;, &quot;ReadOnlyAccess&quot;]
      Identity   = [&quot;InfrastructureAdmin&quot;, &quot;ReadOnlyAccess&quot;, &quot;SecretsAccess&quot;]
      Network    = [&quot;InfrastructureAdmin&quot;, &quot;ReadOnlyAccess&quot;]
      Operations = [&quot;InfrastructureAdmin&quot;, &quot;ReadOnlyAccess&quot;, &quot;SecretsAccess&quot;]
      Production = [&quot;InfrastructureAdmin&quot;, &quot;ReadOnlyAccess&quot;]
      Sandbox    = [&quot;InfrastructureAdmin&quot;, &quot;ReadOnlyAccess&quot;, &quot;SecretsAccess&quot;]
    }

    aws-sandbox-developers = {
      Sandbox = [&quot;DeveloperAccess&quot;, &quot;ReadOnlyAccess&quot;]
    }

    aws-production-developers = {
      Production = [&quot;DeveloperAccess&quot;, &quot;ReadOnlyAccess&quot;]
    }
  }

  default_session_duration = &quot;PT8H&quot;

  # You must map each account name to its account ID, as the Identity account
  # does not have permission to list the accounts in the organization.
  account_ids = {
    Backup     = &quot;000000000000&quot;
    Identity   = &quot;000000000000&quot;
    Network    = &quot;000000000000&quot;
    Operations = &quot;000000000000&quot;
    Production = &quot;000000000000&quot;
    Sandbox    = &quot;000000000000&quot;
  }
}
</pre>
</div></div><p>After applying the module, permission sets will be provisioned and assign for each account as configured.</p>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/112787469/112918555.png">aws-portal.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/112787469/112295974.png">aws-google-groups.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Mar 18, 2024 10:53</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
